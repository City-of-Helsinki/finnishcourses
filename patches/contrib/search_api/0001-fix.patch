From 9797575622b40de8e474a1ff883396e578dba3cf Mon Sep 17 00:00:00 2001
From: Otto Manninen <otto.manninen@konsepto.fi>
Date: Thu, 9 Feb 2023 10:54:59 +0200
Subject: [PATCH] fix

---
 .../search_api_db/src/Plugin/search_api/backend/Database.php  | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

diff --git a/modules/search_api_db/src/Plugin/search_api/backend/Database.php b/modules/search_api_db/src/Plugin/search_api/backend/Database.php
index 0c2611a..a412776 100644
--- a/modules/search_api_db/src/Plugin/search_api/backend/Database.php
+++ b/modules/search_api_db/src/Plugin/search_api/backend/Database.php
@@ -1858,7 +1858,7 @@ class Database extends BackendPluginBase implements AutocompleteBackendInterface
     }
     $keys = $this->splitKeys($keys, $tokenizer_active);
     $keys = $this->eliminateDuplicates($keys);
-    $conj = $keys['#conjunction'];
+    $conj = array_key_exists('#conjunction', $keys) ? $keys['#conjunction'] : NULL;
     $neg = !empty($keys['#negation']);
     foreach ($keys as $i => &$nested) {
       if (is_array($nested)) {
@@ -2000,7 +2000,7 @@ class Database extends BackendPluginBase implements AutocompleteBackendInterface
     }
 
     $neg = !empty($keys['#negation']);
-    $conj = $keys['#conjunction'];
+    $conj = array_key_exists('#conjunction', $keys) ? $keys['#conjunction'] : NULL;
     $words = [];
     $nested = [];
     $negated = [];
-- 
2.39.0

